<!DOCTYPE html>
<html lang="en">
<head>
<base href="http://onlinemkvplayer.com/" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=6, minimum-scale=1">
<title>Play Video From URL | Online MKV Player </title>

<meta name="keywords" content="Online mkv player from url free,
      Online mkv player from url android,
      online video player from url with subtitles,
      paste link and play video,
online video player without download,
url video player download,
url video player online free," />
<meta name="description" content="Experience hassle-free streaming with our online mkv player, accessible for free, from any URL on Android. Paste the link and play your favorite videos instantly - with added subtitle support. No more worries about downloads. Just paste your URL and enjoy your content instantly. Additionally, avail of our free online URL video player download." />
<meta name="author" content="popcorn" />
<meta name="robots" content="all" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="Online MKV Player" />
<meta property="og:type" content="website" />
<link rel="icon" type="image/png" href="favicon.png"/>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Russo+One&display=swap" rel="stylesheet">


<style>
/* Basic reset and body styling */
*{padding: 0px;margin: 0px;}
body{
    margin:0;
    padding:0;
    border:0;
    min-width:320px;
    font-size:1.02em;
    height: 100vh;
    background-color: #010012;
    font-family: 'Inter', sans-serif; /* Using Inter font */
    display: flex;
    flex-direction: column;
}

/* Navigation bar styling */
#nav {
    background-color: #11061e;
    width:100%;
    height:70px;
    box-shadow: 0 0 18px rgba(0,0,0,1.3)!important;
    text-align: center;
    opacity: 0.9;
    display: flex;
    align-items: center;
    justify-content: center;
}
#nav h1 a{
    color:#2debd4;
    font-size: 30px;
    font-weight: 600;
    letter-spacing: 3px;
    text-decoration: none;
    font-family: 'Russo One', sans-serif; /* Apply Russo One directly */
}

/* Glass panel effect for containers */
.glass-panel {
    background-color: rgba(255, 255, 255, 0.15); /* Slightly less opaque for better visibility */
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(8px); /* Increased blur for more effect */
    -webkit-backdrop-filter: blur(8px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    max-width: 640px;
    padding: 20px; /* Increased padding */
    margin: 10px auto; /* Centering and spacing */
    width: 90%; /* Responsive width */
    box-sizing: border-box; /* Include padding in width */
}

/* Video player opacity */
#player{
    opacity: 0.9;
    border-radius: 8px; /* Rounded corners for player */
}

/* Input and button styling within glass panel */
.glass-panel input[type="text"], .glass-panel button {
    padding: 12px; /* Increased padding */
    border: none;
    border-radius: 8px; /* More rounded corners */
    font-size: 1.05em; /* Slightly larger font */
    outline: none; /* Remove outline on focus */
}
.glass-panel button {
    background-color: #34a853;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease; /* Smooth transitions */
}
.glass-panel button:hover {
    background-color: #2b8e45;
    transform: translateY(-2px); /* Slight lift on hover */
}
.glass-panel button:active {
    transform: translateY(0);
}
.glass-panel button:disabled {
    background-color: #6c757d;
    cursor: not-allowed;
}
.glass-panel input[type="text"]::placeholder {
    color: #a0a0a0; /* Lighter placeholder text */
}

/* Responsive video wrapper */
.player-wrapper {
    position: relative;
    height: 0;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    background-color: #000; /* Black background for video area */
    border-radius: 10px; /* Match glass panel border-radius */
    overflow: hidden; /* Hide overflow for rounded corners */
}
.responsive-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain; /* Ensure video fits within bounds */
}

/* Spinner animation */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
#spinner {
    display: inline-block;
    width: 18px; /* Slightly larger spinner */
    height: 18px;
    border: 3px solid rgba(255, 255, 255, 0.3); /* Lighter border */
    border-top: 3px solid #fff; /* White top border */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-left: 8px;
    vertical-align: middle; /* Align with text */
}

/* Message Box Styling */
.message-box-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
.message-box-overlay.show {
    opacity: 1;
    visibility: visible;
}
.message-box-content {
    background-color: #1a1a2e; /* Darker background for message box */
    color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    text-align: center;
    max-width: 400px;
    width: 90%;
    box-sizing: border-box;
    border: 1px solid rgba(255, 255, 255, 0.2);
}
.message-box-content h3 {
    margin-bottom: 15px;
    font-size: 1.5em;
    color: #2debd4;
}
.message-box-content p {
    margin-bottom: 25px;
    line-height: 1.6;
}
.message-box-content button {
    background-color: #34a853;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    transition: background-color 0.3s ease;
}
.message-box-content button:hover {
    background-color: #2b8e45;
}

/* Main content centering */
.main-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
}

/* Hide the input/button section initially if auto-playing */
.input-section.hidden {
    display: none !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    #nav h1 a {
        font-size: 24px;
        letter-spacing: 2px;
    }
    .glass-panel {
        padding: 15px;
    }
    .glass-panel input[type="text"], .glass-panel button {
        font-size: 0.95em;
        padding: 10px;
    }
    .message-box-content {
        padding: 20px;
    }
    .message-box-content h3 {
        font-size: 1.3em;
    }
}

@media (max-width: 480px) {
    #nav h1 a {
        font-size: 20px;
        letter-spacing: 1px;
    }
    .glass-panel {
        padding: 10px;
    }
    .glass-panel input[type="text"] {
        margin-right: 5px;
    }
    .glass-panel button {
        padding: 8px;
    }
    .message-box-content {
        padding: 15px;
    }
}
</style>
</head>
<body>
<table id="nav">
    <tr>
        <td>
            <h1>
                <a href="http://onlinemkvplayer.com/">Online MKV Player</a>
            </h1>
        </td>
    </tr>
</table>

<div class="main-content">
    <div class="glass-panel">
        <div id="ply" class="player-wrapper">
            <video id="player" class="responsive-video" controls>
                Your browser does not support the video tag.
            </video>
        </div>
    </div>
    <br>
    <div class="glass-panel" id="inputSection"> <div style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap;">
            <button type="button" id="playbutton" onclick="loadVideo()"><span id="buttonText">Play Video</span><span id="spinner" style="display:none;"></span></button>
        </div>
    </div>
</div>

<div id="messageBoxOverlay" class="message-box-overlay">
    <div class="message-box-content">
        <h3 id="messageBoxTitle"></h3>
        <p id="messageBoxText"></p>
        <button onclick="hideMessageBox()">OK</button>
    </div>
</div>

<script>
// Function to display a custom message box
function showMessageBox(title, message) {
    document.getElementById('messageBoxTitle').innerText = title;
    document.getElementById('messageBoxText').innerText = message;
    document.getElementById('messageBoxOverlay').classList.add('show');
}

// Function to hide the custom message box
function hideMessageBox() {
    document.getElementById('messageBoxOverlay').classList.remove('show');
}

// Function to load and play the video from the URL
function loadVideo(videoUrlFromParam = '') { // Added a parameter for URL from query string
  var videoUrl = videoUrlFromParam || document.getElementById('mkvurl').value.trim(); // Use param or input field
  var player = document.getElementById('player');
  var playButton = document.getElementById("playbutton");
  var buttonText = document.getElementById("buttonText");
  var spinner = document.getElementById("spinner");

  if (videoUrl.length === 0) {
    // Only show message if no URL from param and input is empty
    if (!videoUrlFromParam) {
        showMessageBox('Input Required', 'Please enter a video URL to play.');
    }
    return;
  }

  // Set loading state
  playButton.disabled = true;
  buttonText.innerHTML = "Loading...";
  spinner.style.display = "inline-block";

  // Clear existing sources before setting a new one
  while (player.firstChild) {
      player.removeChild(player.firstChild);
  }

  // Determine video type based on extension (simple heuristic)
  let videoType = '';
  // Be careful with query parameters in the URL itself (like ?download)
  const cleanUrl = videoUrl.split('?')[0].toLowerCase(); // Get URL before any query params
  if (cleanUrl.endsWith('.mkv')) {
      videoType = 'video/x-matroska';
  } else if (cleanUrl.endsWith('.mp4')) {
      videoType = 'video/mp4';
  } else if (cleanUrl.endsWith('.webm')) {
      videoType = 'video/webm';
  }
  // Add more types if needed

  // Create a source element for the video
  const sourceElement = document.createElement('source');
  sourceElement.src = videoUrl;
  if (videoType) {
      sourceElement.type = videoType;
  }
  player.appendChild(sourceElement);

  player.load(); // Load the new source
  player.style.opacity = 1;

  // Attempt to play the video. Play() returns a Promise.
  var playPromise = player.play();

  if (playPromise !== undefined) {
    playPromise.then(_ => {
      // Video started playing successfully
      console.log('Video started playing.');
      // Revert button state after a short delay or on 'canplay' event
      player.addEventListener('canplay', function handler() {
        playButton.disabled = false;
        buttonText.innerHTML = "Play Video";
        spinner.style.display = "none";
        player.removeEventListener('canplay', handler);
      }, {once: true});
    })
    .catch(error => {
      // Playback failed (e.g., due to CORS, unsupported format, user gesture required)
      console.error('Video playback failed:', error);
      showMessageBox('Playback Error', 'Could not play the video. This might be due to an invalid URL, unsupported format, server restrictions (CORS), or browser autoplay policies. Please try manually clicking play.');
      // Revert button state immediately on error
      playButton.disabled = false;
      buttonText.innerHTML = "Play Video";
      spinner.style.display = "none";
    });
  } else {
    // Fallback for browsers that don't return a Promise from play()
    console.log('Video play initiated (no promise returned).');
    player.addEventListener('canplay', function handler() {
        playButton.disabled = false;
        buttonText.innerHTML = "Play Video";
        spinner.style.display = "none";
        player.removeEventListener('canplay', handler);
    }, {once: true});

    setTimeout(() => {
        if (playButton.disabled) {
            playButton.disabled = false;
            buttonText.innerHTML = "Play Video";
            spinner.style.display = "none";
        }
    }, 5000);
  }
}

// Function to load external JavaScript files
function js(u){
    let e = document.createElement("script");
    e.src = u;
    e.defer = true;
    e.async = true;
    document.body.appendChild(e);
    return e;
}

// Function to load external CSS files (not strictly needed here but kept for completeness)
function css(u){
    let e = document.createElement("link");
    e.href = u;
    e.rel = "stylesheet";
    document.head.appendChild(e);
    return e;
}

// Function to perform actions after initial load
function dasdads(){
    document.body.style.background = "url(background.jpg) no-repeat center center #010012";
    document.body.style.backgroundSize = "cover";
    document.getElementById('player').poster = "poster.jpg";

    js("https://www.googletagmanager.com/gtag/js?id=G-J49NFMBTFC");
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J49NFMBTFC');
}

// --- NEW CODE FOR URL PARAMETER HANDLING ---
window.addEventListener("load", function(){
    dasdads(); // Call the original load function

    const urlParams = new URLSearchParams(window.location.search);
    const videoUrlFromParam = urlParams.get('url');
    const inputSection = document.getElementById('inputSection'); // Get the input section

    if (videoUrlFromParam) {
        // If 'url' parameter exists, load the video automatically
        document.getElementById('mkvurl').value = videoUrlFromParam; // Populate the input field
        loadVideo(videoUrlFromParam); // Call loadVideo with the URL from parameter
        inputSection.classList.add('hidden'); // Hide the input field and button
    } else {
        // If no 'url' parameter, ensure input section is visible (default)
        inputSection.classList.remove('hidden');
    }
}, false);
</script>

</body>
</html>
